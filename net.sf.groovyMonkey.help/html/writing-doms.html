<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Eclipse Monkey</title>
</head>
<body>

<h2>Writing your own DOM</h2>

<p>
While the Eclipse APIs are powerful, they can also be a bit overwhelming for typical scripts, thus Eclipse Monkey is designed for users to provide their own DOMs (or to use other's DOMs) in addition to the straight Eclipse APIs.
</p>
<p>
To provide a new DOM, create a new plug-in that extends the <code>org.eclipse.eclipsemonkey.dom</code> extension point. This extension requires two things:
<ul>
<li>An implementation of <code>IMonkeyDOMFactory</code></li>
<li>The name of the global script variable for the root DOM object</li>
</ul>
<p>Each script is run in a separate instance of the script engine and the DOM factories are called to create their root objects for each of those instances. The DOM factory returns the root DOM object which can be either a Java object or a <code>org.mozilla.javascript.Scriptable object</code>.
</p>
<p>The key to writing a good DOM is to design just the right simple abstractions. It is always tempting to provide everything possible under the sun in one's DOM, but such DOMs turn out to be counter-productive - they are too complex to be easily usable in scripts. We solve the tension between simplicity and features by providing access through our DOMs to the underlying Eclipse API objects; thus when an author finds that our DOM is insufficient, she can reach through to the "real" objects and manipulate the APIs directly.
</p>
<p>The "Eclipse Monkey Standard DOMs" plug-in contains a couple illustrative DOM and DOM factory examples.</p>


</body>
</html>
